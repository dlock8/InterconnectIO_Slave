<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>InterconnectIO Slave: I2C slave library for the Raspberry Pi Pico</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">InterconnectIO Slave
   &#160;<span id="projectnumber">700-2001-010</span>
   </div>
   <div id="projectbrief">Slave Firmware to be loaded on the three Pico Slave device on InterconnectIO Board</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_README.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">I2C slave library for the Raspberry Pi Pico </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Modified to run for my application</p>
<p>The Raspberry Pi Pico C/C++ SDK has all you need to write an I2C master, but is curiously lacking when it comes to I2C in slave mode. This library fills that gap to easily turn the Pico into an I2C slave.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Examples</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Setup</h2>
<p>Follow the instructions in <a href="https://datasheets.raspberrypi.org/pico/getting-started-with-pico.pdf">Getting started with Raspberry Pi Pico</a> to setup your build environment.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Links</h1>
<h1><a class="anchor" id="autotoc_md4"></a>
Original Authors</h1>
<p>Valentin Milea <a href="#" onclick="location.href='mai'+'lto:'+'val'+'en'+'tin'+'.m'+'ile'+'a@'+'gma'+'il'+'.co'+'m'; return false;">valen<span style="display: none;">.nosp@m.</span>tin.<span style="display: none;">.nosp@m.</span>milea<span style="display: none;">.nosp@m.</span>@gma<span style="display: none;">.nosp@m.</span>il.co<span style="display: none;">.nosp@m.</span>m</a></p>
<h1><a class="anchor" id="autotoc_md5"></a>
Adaptation Authors</h1>
<p>Daniel Lockhead <a href="#" onclick="location.href='mai'+'lto:'+'dan'+'ie'+'llo'+'ck'+'hea'+'d@'+'gma'+'il'+'.co'+'m'; return false;">danie<span style="display: none;">.nosp@m.</span>lloc<span style="display: none;">.nosp@m.</span>khead<span style="display: none;">.nosp@m.</span>@gma<span style="display: none;">.nosp@m.</span>il.co<span style="display: none;">.nosp@m.</span>m</a></p>
<h1><a class="anchor" id="autotoc_md6"></a>
I2C Command supported</h1>
<p>Pico i2C Slave mode Protocol</p>
<p>I2C Command is 2 bytes long: Command_byte (1 byte) + Data (1 byte)</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Command_Byte   </th><th class="markdownTableHeadNone">Function   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">00   </td><td class="markdownTableBodyNone">Reserved   </td><td class="markdownTableBodyNone">used for special purpose    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">01   </td><td class="markdownTableBodyNone">Get Major Version   </td><td class="markdownTableBodyNone">return major version of firmware    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">02   </td><td class="markdownTableBodyNone">Get Minor Version   </td><td class="markdownTableBodyNone">return minor version of firmware    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">10   </td><td class="markdownTableBodyNone">Clear GPx   </td><td class="markdownTableBodyNone">Write 0 on GPx    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">11   </td><td class="markdownTableBodyNone">Set GPx   </td><td class="markdownTableBodyNone">Write 1 on GPx    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">12   </td><td class="markdownTableBodyNone">Clear Bank x   </td><td class="markdownTableBodyNone">Open all relay from bank x    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">13   </td><td class="markdownTableBodyNone">Read Bank x   </td><td class="markdownTableBodyNone">Read Bank status (Bit0 = CH0, Bit1=CH1, Bit7=CH7)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">15   </td><td class="markdownTableBodyNone">Read GPx   </td><td class="markdownTableBodyNone">Read GPx state    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">20   </td><td class="markdownTableBodyNone">Set Dir GPx Out   </td><td class="markdownTableBodyNone">Set direction Out for Gpx    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">21   </td><td class="markdownTableBodyNone">Set Dir GPx In   </td><td class="markdownTableBodyNone">Set direction In for Gpx    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">25   </td><td class="markdownTableBodyNone">Get Dir GPx   </td><td class="markdownTableBodyNone">Read GPX direction, 0 = In , 1 = Out    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">30   </td><td class="markdownTableBodyNone">Set GPx strenght = 2mA   </td><td class="markdownTableBodyNone">Set GPx output max current    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">31   </td><td class="markdownTableBodyNone">Set GPx strenght = 4mA   </td><td class="markdownTableBodyNone">Set GPx output max current    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">32   </td><td class="markdownTableBodyNone">Set GPx strenght = 8mA   </td><td class="markdownTableBodyNone">Set GPx output max current    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">33   </td><td class="markdownTableBodyNone">Set GPx strenght = 12mA   </td><td class="markdownTableBodyNone">Set GPx output max current    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">35   </td><td class="markdownTableBodyNone">Get Gpx drive strenght   </td><td class="markdownTableBodyNone">Read strenght: 0: 2mA, 1: 4mA, 2: 8mA, 3: 12mA    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">41   </td><td class="markdownTableBodyNone">Set pull_up GPx   </td><td class="markdownTableBodyNone">Add pull-up to Gpx    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">45   </td><td class="markdownTableBodyNone">Get pull-up GPx   </td><td class="markdownTableBodyNone">Read pull-up state (1: pull-up active)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">50   </td><td class="markdownTableBodyNone">Disable pulls   </td><td class="markdownTableBodyNone">Remove pull-up and pull-down    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">51   </td><td class="markdownTableBodyNone">Set pull_down GPx   </td><td class="markdownTableBodyNone">Add pull-down to Gpx    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">55   </td><td class="markdownTableBodyNone">Get pull-down GPx   </td><td class="markdownTableBodyNone">Read pull-down state (1: pull-down active)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">60   </td><td class="markdownTableBodyNone">Set Pads State value   </td><td class="markdownTableBodyNone">Set Pads State register for use later    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">61   </td><td class="markdownTableBodyNone">Set GPx to Pads State   </td><td class="markdownTableBodyNone">Write contains of command 60 on GPx    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">65   </td><td class="markdownTableBodyNone">Get Pads state Gpx   </td><td class="markdownTableBodyNone">Read PAD register for Gpx   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md7"></a>
8 Bit I/O port I2C Command</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Command_Byte   </th><th class="markdownTableHeadNone">Function   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">80   </td><td class="markdownTableBodyNone">Set IO Mask Port 0   </td><td class="markdownTableBodyNone">8 bit mask direction 0 = In , 1 = Out    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">81   </td><td class="markdownTableBodyNone">Set IO Output Port 0   </td><td class="markdownTableBodyNone">Set Output Line 0= Low 1=High    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">85   </td><td class="markdownTableBodyNone">Read IO Input Port 0   </td><td class="markdownTableBodyNone">Get Input Line 0= Low 1=High    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">90   </td><td class="markdownTableBodyNone">Set IO Mask Port 1   </td><td class="markdownTableBodyNone">8 bit mask direction 0 = In , 1 = Out    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">91   </td><td class="markdownTableBodyNone">Set IO Output Port 1   </td><td class="markdownTableBodyNone">Set Output Line 0= Low 1=High    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">95   </td><td class="markdownTableBodyNone">Read IO Input Port 1   </td><td class="markdownTableBodyNone">Get Input Line 0= Low 1=High    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">100   </td><td class="markdownTableBodyNone">Device Status   </td><td class="markdownTableBodyNone">Bit Status (8 bits)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Bit 0   </td><td class="markdownTableBodyNone">Config Completed 0: true    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Bit 1   </td><td class="markdownTableBodyNone">Command accepted 0: true    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Bit 2   </td><td class="markdownTableBodyNone">Error 1= true    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"></td><td class="markdownTableBodyNone">Bit 3   </td><td class="markdownTableBodyNone">watchdog trigged 1= true   </td></tr>
</table>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
